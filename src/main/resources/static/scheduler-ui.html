<html>
<head>
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    <title>Scheduler任务调度中心控制台</title>
    <link rel="stylesheet" href="/webjars/bootstrap/css/bootstrap.min.css"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>
<body>
<div class="container"><br/>
    <div>
        <img src="images/spring-boot.jpg" height="60" width="60">
        <img src="images/quartz.jpg" height="60" width="90">
        <img src="images/logo.png">
    </div>
    <br/><br/>

    <div class="table-responsive">
        <table class="table">
            <thead>
            <tr class="success">
                <th>任务</th>
                <th>任务组</th>
                <th>URL</th>
                <th>优先级</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody class="table-striped">
            </tbody>
        </table>

        <ul class="pager">
            <li><a href="#">Previous</a></li>
            <li><a href="#">Next</a></li>
        </ul>
    </div>
</div>
</body>

<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: "get",
            url: "http://localhost:8080/api/v1/jobs",
            dataType: "json",
            success: function (data) {
                var item;
                $.each(data.jobs, function (i, result) {
                        item = "<tr>" +
                            "        <td>" + result['jobName'] + "</td>" +
                            "        <td>" + result['jobGroupName'] + "</td>" +
                            "        <td>" + result['url'] + "</td>" +
                            "        <td>" + result['priority'] + "</td>" +
                            "        <td>" +
                            "                    <div>\n" +
                            "                        <button type=\"button\" class=\"btn btn-primary\">删除</button>\n" +
                            "                        <button type=\"button\" class=\"btn btn-primary\">修改</button>\n" +
                            "                        <button type=\"button\" class=\"btn btn-primary\">暂停</button>\n" +
                            "                        <button type=\"button\" class=\"btn btn-primary\">恢复</button>\n" +
                            "                        <button type=\"button\" class=\"btn btn-primary\">立即启动</button>\n" +
                            "                    </div>\n" +
                            "        </td>" +
                            " </tr>";
                        $('.table-striped').append(item);
                    }
                );
            },
            error: function () {
                alert('系统异常')
            }
        })
    });
</script>
</html>